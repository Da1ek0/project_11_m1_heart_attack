# Проект: Мастерская 1
## Постановка задачи
### О проекте
Разработана ML-модель для прогнозирования риска возникновения сердечного приступа на основе медицинских данных пациентов. Входные параметры включают возраст, образ жизни, показатели здоровья и результаты анализов крови. Реализовано веб-приложение на FastAPI, которое предоставляет прогнозы в ответ на пользовательские запросы.

Ключевые компоненты:

* Использован открытый датасет для обучения и валидации модели.

* Построен и оптимизирован алгоритм машинного обучения.

* Создан программный интерфейс (API) для тестирования модели и интеграции в медицинские системы.

### Цель:
* Автоматизация оценки рисков сердечно-сосудистых заболеваний для поддержки врачей в принятии клинических решений.
### Задачи
* Исследование и анализ предоставленного датасета для формирования гипотез.
* Предобработка данных: удаление нерелевантных и дублирующих признаков, исключение утечек данных.
* Сравнительное обучение и тонкая настройка моделей для выбора наилучшего решения.
* Генерация предсказаний для тестовой выборки и оформление результата в соответствии с требованиями.
* Разработка и развертывание API-сервиса на FastAPI для инференса модели.
* Подготовка исчерпывающей документации.
### Описание исходных данных и признаков

Набор данных для прогнозирования сердечно-сосудистого риска включает в себя четыре ключевые группы признаков:

1. Демографические и социально-экономические данные:

* Age — возраст пациента в полных годах.
* Gender — половая принадлежность (мужской/женский).
* Income — уровень дохода как показатель финансового благосостояния.
* id — уникальный идентификатор записи.

2. Антропометрические показатели и данные об образе жизни:

* BMI — индекс массы тела, расчетный показатель соотношения веса и роста.
* Obesity — бинарный показатель наличия или отсутствия ожирения.
* Sedentary Hours Per Day — среднее количество часов, проводимых сидя.
* Sleep Hours Per Day — средняя продолжительность сна.
* Smoking и Alcohol Consumption — факторы риска, связанные с вредными привычками.
* Exercise Hours Per Week и Physical Activity Days Per Week — показатели физической активности.
* Diet — качественная оценка типа питания.
* Stress Level — субъективная оценка уровня стресса.

3. Физиологические и клинические показатели:

* Cholesterol, Triglycerides, Blood sugar — ключевые биохимические маркеры крови.
* Systolic blood pressure, Diastolic blood pressure — показатели артериального давления.
* Heart rate — частота сердечных сокращений (пульс).
* CK-MB, Troponin — специфические кардиомаркеры, указывающие на повреждение миокарда.

4. Медицинский анамнез:

* Diabetes — наличие диагностированного диабета.
* Family History — отягощенная наследственность по сердечно-сосудистым заболеваниям.
* Previous Heart Problems — наличие сердечных заболеваний в анамнезе пациента.
* Medication Use — факт приема лекарственных препаратов.
* Heart Attack Risk (Binary) — целевая переменная: бинарный индикатор риска инфаркта.

Взаимосвязи признаков:
Анализ набора данных выявил ожидаемые корреляции между признаками, такие как связь между показателями образа жизни (Diet, Exercise) и клиническими параметрами (Cholesterol, Blood Pressure), что важно для дальнейшего отбора признаков и анализа.
### Стек:

- Python
- Pandas
- numpy
- Scikitlearn
- CatBoost
- FastAPI
- HTML
## Инструкция по развертыванию приложения для предсказания риска сердечного приступа
### О проекте
FastAPI приложение для предсказания риска сердечного приступа на основе медицинских данных. Принимает CSV-файлы, возвращает предсказания в формате JSON.

#### Ссылка на проект в GitHub:
https://github.com/Da1ek0/project_11_m1_heart_attack.git

####  Развертывание в Docker (рекомендуется)
##### 1. Клонирование репозитория

git clone https://github.com/Da1ek0/project_11_m1_heart_attack.git

cd project_11_m1_heart_attack

##### 2. Сборка Docker образа

docker build -t heart-app .

##### 3. Запуск контейнера

docker run -p 8000:8000 --name heart-container heart-app

##### 4. Проверка работоспособности

Откройте в браузере:

Приложение: http://localhost:8000

Документация API (Swagger): http://localhost:8000/docs


#### Развертывание в виртуальном окружении

##### 1. Клонирование репозитория

git clone https://github.com/Da1ek0/project_11_m1_heart_attack.git

cd project_11_m1_heart_attack

##### 2. Создание виртуального окружения

python -m venv venv

##### 3. Активация виртуального окружения
   
**Linux/MacOS:**

source venv/bin/activate

**Windows:**

venv\Scripts\activate

##### 4. Установка зависимостей

pip install -r requirements.txt

##### 5. Запуск приложения

uvicorn main:app --reload --host 0.0.0.0 --port 8000

##### 6. Доступ к приложению
   
Приложение: http://localhost:8000

Документация API: http://localhost:8000/docs  
